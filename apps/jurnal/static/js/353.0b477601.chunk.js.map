{"version":3,"file":"static/js/353.0b477601.chunk.js","mappings":"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","sources":["pic/caret_right.svg","webpack://frontend/./src/components/PopapError/style.module.css?2ebf","components/PopapError/PopapError.jsx","webpack://frontend/./src/pages/Share/style.module.css?130c","webpack://frontend/./src/components/ShareParam/style.module.css?ed1c","components/ShareParam/ShareParam.jsx","pages/Share/Share.jsx"],"sourcesContent":["var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgCaretRight(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 12.7962L6 3.20377L11.4814 8L6 12.7962ZM6.6585 13.5488L12.1399 8.75258C12.5952 8.35417 12.5952 7.64584 12.1399 7.24743L6.6585 2.45119C6.01192 1.88543 5 2.34461 5 3.20377L5 12.7962C5 13.6554 6.01192 14.1146 6.6585 13.5488Z\",\n    fill: \"black\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgCaretRight);\nexport default __webpack_public_path__ + \"static/media/caret_right.b6c1e75636a6ef4435873d78a408cee9.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"user__alert\":\"style_user__alert__Hvfgg\",\"user__error\":\"style_user__error__50+v3\"};","import React from \"react\";\r\nimport st from \"./style.module.css\";\r\n\r\nexport default function PopapError() {\r\n    return (\r\n        <p className={[st.user__alert, st.user__error].join(\" \")}>\r\n            что-то не так...\r\n        </p>\r\n    );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"style_content__7bN7R\",\"wrapper\":\"style_wrapper__K0uwp\",\"link_back\":\"style_link_back__S5fr-\",\"data_lesson\":\"style_data_lesson__0HgMH\",\"caret\":\"style_caret__uwstg\",\"link_span\":\"style_link_span__4hvWd\",\"table\":\"style_table__2qy5D\",\"table_head\":\"style_table_head__MkQmO\",\"table_body\":\"style_table_body__k6J9K\",\"table_body_tr\":\"style_table_body_tr__jz7MB\",\"log_none\":\"style_log_none__5uoMy\",\"log_has\":\"style_log_has__hzTz6\",\"log_await\":\"style_log_await__amRTg\"};","// extracted by mini-css-extract-plugin\nexport default {\"box\":\"style_box__psZld\",\"box_name\":\"style_box_name__vOZkx\",\"box_value\":\"style_box_value__Cuzyr\"};","import React from 'react';\r\n\r\nimport st from \"./style.module.css\";\r\n\r\nexport const ShareParam = ({name, value}) => {\r\n        return (\r\n                <div className={st.box}>\r\n                        <div className={st.box_name}>{name}</div>\r\n                        <span className={st.box_value}>{value}</span>\r\n                </div>\r\n        )\r\n}\r\n","import React, { ReactComponent, useCallback } from 'react';\r\nimport { NavLink, useParams } from 'react-router-dom';\r\nimport { useQuery } from 'react-query';\r\nimport PopapLoading from '../../components/PopapLoading/PopapLoading';\r\nimport PopapError from '../../components/PopapError/PopapError';\r\n\r\nimport { BASE } from \"../../services/vars.js\";\r\nimport st from \"./style.module.css\";\r\n\r\nimport { ReactComponent as CaretRight } from '../../pic/caret_right.svg';\r\nimport { ShareParam } from '../../components/ShareParam/ShareParam';\r\n\r\nconst Share = () => {\r\n\r\n        let token = useParams().short_token || null;\r\n\r\n        const fetchGetLogs = async () => {\r\n\r\n                const response = await fetch(`${BASE}/share/logbook`, {\r\n                        method: \"GET\",\r\n                        headers: {\r\n                                \"Content-Type\": \"application/json\",\r\n                                \"token\": token\r\n                        }\r\n                });\r\n                return response.json();\r\n        };\r\n\r\n        const { data, status } = useQuery('logsShare', fetchGetLogs);\r\n\r\n        let getStyle = useCallback((value) => {\r\n                if (value.type_log.includes(\"Присутствует\")) {\r\n                        return st.log_has\r\n                } else if (value.type_log.includes(\"Опоздание\")) {\r\n                        return st.log_await\r\n                } else {\r\n                        return st.log_none\r\n                }\r\n        }, []);\r\n\r\n        if (!token) {\r\n                return <div>\r\n                        <h1>У вас нету ключа доступа</h1>\r\n                </div>\r\n        } else if (status === 'loading') {\r\n                return <PopapLoading />;\r\n        } else if (status === 'error' || data.message === \"Error!\" || data.type === \"Error\") {\r\n                return <PopapError />;\r\n        } else {\r\n                return (\r\n                        <div className={st.content}>\r\n\r\n                                <div className={st.wrapper}>\r\n                                        <NavLink\r\n                                                to={\"/\"}\r\n                                                className={st.link_back}\r\n                                        >\r\n                                                <CaretRight className={st.caret} />\r\n                                                <span className={st.link_span}>На главную</span>\r\n                                        </NavLink>\r\n\r\n                                        <div className={st.data_lesson}>\r\n                                                <ShareParam value={data.date_lesson} name={\"Дата\"} />\r\n                                                <ShareParam value={data.name_lesson} name={\"Предмет\"} />\r\n                                                <ShareParam value={data.number_lesson} name={\"Номер пары\"} />\r\n                                        </div>\r\n\r\n                                        <table className={st.table} cellSpacing={0}>\r\n                                                <thead className={st.table_head}>\r\n                                                        <tr>\r\n                                                                <th>Студент</th>\r\n                                                                <th>Статус</th>\r\n                                                                <th>Дополнение</th>\r\n                                                        </tr>\r\n                                                </thead>\r\n                                                <tbody className={st.table_body}>\r\n                                                        {\r\n                                                                data?.logs.map(log => <tr className={st.table_body_tr}>\r\n                                                                        <td>{log.full_name}</td>\r\n                                                                        <td className={getStyle(log)}>{log.type_log}</td>\r\n                                                                        <td>{Boolean(log.date_start != null) && Boolean(log.date_end != null) ? \"Индивидуальный учебный план\" : \"\"}</td>\r\n                                                                </tr>)\r\n                                                        }\r\n                                                </tbody>\r\n                                        </table>\r\n                                </div>\r\n\r\n                        </div>\r\n                )\r\n        }\r\n}\r\n\r\nexport default Share;"],"names":["_path","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","SvgCaretRight","_ref","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","id","d","ForwardRef","PopapError","_jsx","className","st","user__alert","user__error","join","children","ShareParam","name","value","_jsxs","Share","token","useParams","short_token","data","status","useQuery","async","fetch","concat","BASE","method","headers","json","getStyle","useCallback","type_log","includes","PopapLoading","message","type","NavLink","to","CaretRight","date_lesson","name_lesson","number_lesson","cellSpacing","logs","map","log","full_name","Boolean","date_start","date_end"],"sourceRoot":""}