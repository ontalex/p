{"version":3,"file":"static/js/987.1d28328d.chunk.js","mappings":"4HACA,SAAgB,YAAc,2BAA2B,YAAc,4B,aCExD,SAASA,EAAUC,GAAY,IAAX,KAAEC,GAAMD,EACvC,OACIE,EAAAA,EAAAA,KAAA,KAAGC,UAAW,CAACC,EAAGC,YAAaD,EAAGE,aAAaC,KAAK,KAAKC,SAEhDP,GAAO,sEAIxB,C,iFCTO,IAAIQ,EAAiBC,UACxB,IAAIC,QAAYC,MAAM,GAADC,OAAIC,EAAAA,EAAI,mBAAmB,CAC5CC,OAAQ,MACRC,QAAS,CACL,eAAgB,mBAChB,cAAiBC,aAAaC,QAAQ,UAAY,MAI1D,OAAQP,EAAIQ,GAA2BR,EAAIS,OAA1B,CAAEC,OAAQ,QAAsB,E,wBCVrD,SAAgB,KAAO,oBAAoB,UAAY,yBAAyB,eAAiB,8BAA8B,eAAiB,8BAA8B,WAAa,0BAA0B,SAAW,wBAAwB,IAAM,oB,aCO/O,SAASC,IAAmB,IAADC,EAAAC,EAEtC,MAAMC,EAAcC,EAAAA,YAAe,CAC/BC,WAAYjB,eAAkBkB,MAgBlC,OALAC,EAAAA,EAAAA,YAAU,KACNJ,EAAYK,QAAQ,GACrB,KAGKC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAxB,SAAA,EACJN,EAAAA,EAAAA,KAAA,UAAQ+B,QAASA,IAAMR,EAAYK,SAAU3B,UAAWC,EAAG8B,IAAI1B,UAC3DN,EAAAA,EAAAA,KAAA,QAAAM,SAAM,uDAGTiB,EAAYU,YAAajC,EAAAA,EAAAA,KAACkC,EAAAA,EAAY,IACtCX,EAAYY,UAAWnC,EAAAA,EAAAA,KAACH,EAAAA,EAAU,IAClCuC,SAAwB,QAAhBf,EAAAE,EAAYc,YAAI,IAAAhB,OAAA,EAAhBA,EAAkBiB,QAAS,IAAKtC,EAAAA,EAAAA,KAAA,OAAAM,SACpB,QADoBgB,EACpCC,EAAYc,YAAI,IAAAf,OAAA,EAAhBA,EAAkBiB,KAAIC,IACZX,EAAAA,EAAAA,MAAA,OAAK5B,UAAWC,EAAGsC,KAAKlC,SAAA,EAC3BuB,EAAAA,EAAAA,MAAA,OAAK5B,UAAWC,EAAGuC,UAAUnC,SAAA,EACzBN,EAAAA,EAAAA,KAAA,KAAGC,UAAWC,EAAGwC,eAAepC,SAAEkC,EAAKG,YACvCd,EAAAA,EAAAA,MAAA,OAAK5B,UAAWC,EAAG0C,eAAetC,SAAA,EAC9BN,EAAAA,EAAAA,KAAA,KAAGC,UAAWC,EAAG2C,WAAWvC,SAAE,IAAIwC,KAAKN,EAAKO,YAAYC,mBAAmB,SAC3EhD,EAAAA,EAAAA,KAAA,QAAAM,SAAM,OACNN,EAAAA,EAAAA,KAAA,KAAGC,UAAWC,EAAG2C,WAAWvC,SAAE,IAAIwC,KAAKN,EAAKS,UAAUD,mBAAmB,eAGjFnB,EAAAA,EAAAA,MAAA,OAAK5B,UAAWC,EAAGgD,SAAS5C,SAAA,EACxBN,EAAAA,EAAAA,KAAA,UAAQC,UAAWC,EAAG8B,IAAI1B,UAACN,EAAAA,EAAAA,KAAA,QAAAM,SAAM,wDACjCN,EAAAA,EAAAA,KAAA,UAAQC,UAAWC,EAAG8B,IAAI1B,UAACN,EAAAA,EAAAA,KAAA,QAAAM,SAAM,4DAIxCN,EAAAA,EAAAA,KAAA,KAAAM,SAAG,oEAEpB,C","sources":["webpack://frontend/./src/components/PopapError/style.module.css?2ebf","components/PopapError/PopapError.jsx","services/individual.service.js","webpack://frontend/./src/pages/AdminIndividual/style.module.css?1660","pages/AdminIndividual/AdminIndividual.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"user__alert\":\"style_user__alert__Hvfgg\",\"user__error\":\"style_user__error__50+v3\"};","import React from \"react\";\r\nimport st from \"./style.module.css\";\r\n\r\nexport default function PopapError({ text }) {\r\n    return (\r\n        <p className={[st.user__alert, st.user__error].join(\" \")}>\r\n            {\r\n                !text ? \"что-то не так...\" : text\r\n            }\r\n        </p>\r\n    );\r\n}\r\n","import { BASE } from \"./vars.js\";\r\n\r\nexport let getIndividuals = async () => {\r\n    let res = await fetch(`${BASE}/individual/all`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": localStorage.getItem(\"token\") || \"\"\r\n        }\r\n    });\r\n\r\n    return !res.ok ? { status: \"error\" } : res.json()\r\n}\r\n\r\nexport let postIndividual = async (fullname, date_start, date_end) => {\r\n    let body = {\r\n        fullname: fullname,\r\n        date_start: date_start,\r\n        date_end: date_end\r\n    }\r\n    let res = await fetch(`${BASE}/individual`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": localStorage.getItem(\"token\") || \"\"\r\n        },\r\n        body: JSON.stringify(body)\r\n    });\r\n\r\n    return !res.ok ? { status: \"error\" } : res.json()\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"style_item__bFqnV\",\"item__box\":\"style_item__box__M0hV4\",\"item__fullname\":\"style_item__fullname__kKwv-\",\"item__diapason\":\"style_item__diapason__G-NSj\",\"item__time\":\"style_item__time__SEW-0\",\"btns_box\":\"style_btns_box__jz9iU\",\"btn\":\"style_btn__fSjMH\"};","import React, { useEffect } from \"react\";\r\nimport * as rq from \"react-query\";\r\nimport * as indiService from \"../../services/individual.service\";\r\nimport PopapLoading from \"../../components/PopapLoading/PopapLoading\";\r\nimport PopapError from \"../../components/PopapError/PopapError\";\r\n\r\nimport st from './style.module.css';\r\n\r\nexport default function AdminIndividual() {\r\n    // мутант на обновление списка\r\n    const mutationGet = rq.useMutation({\r\n        mutationFn: async () => await indiService.getIndividuals(),\r\n    })\r\n\r\n    // мутант на добавление данных\r\n\r\n\r\n    // мутант на изменение данных\r\n    // мутант на удаление данных\r\n\r\n    // состояние на окно добавления\r\n\r\n    useEffect(() => {\r\n        mutationGet.mutate()\r\n    }, [])\r\n\r\n\r\n    return (<>\r\n        <button onClick={() => mutationGet.mutate()} className={st.btn}>\r\n            <span>Обновить</span>\r\n        </button >\r\n\r\n        {mutationGet.isLoading && <PopapLoading />}\r\n        {mutationGet.isError && <PopapError />}\r\n        {Boolean(mutationGet.data?.length > 0) ? <div>\r\n            {mutationGet.data?.map(item => {\r\n                return <div className={st.item}>\r\n                    <div className={st.item__box}>\r\n                        <p className={st.item__fullname}>{item.fullname}</p>\r\n                        <div className={st.item__diapason}>\r\n                            <p className={st.item__time}>{new Date(item.date_start).toLocaleDateString(\"ru\")}</p>\r\n                            <span>-</span>\r\n                            <p className={st.item__time}>{new Date(item.date_end).toLocaleDateString(\"ru\")}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className={st.btns_box}>\r\n                        <button className={st.btn}><span>Изменить</span></button>\r\n                        <button className={st.btn}><span>Удалить</span></button>\r\n                    </div>\r\n                </div>\r\n            })}\r\n        </div> : <p>Нету данных</p>}\r\n    </>)\r\n}"],"names":["PopapError","_ref","text","_jsx","className","st","user__alert","user__error","join","children","getIndividuals","async","res","fetch","concat","BASE","method","headers","localStorage","getItem","ok","json","status","AdminIndividual","_mutationGet$data","_mutationGet$data2","mutationGet","rq","mutationFn","indiService","useEffect","mutate","_jsxs","_Fragment","onClick","btn","isLoading","PopapLoading","isError","Boolean","data","length","map","item","item__box","item__fullname","fullname","item__diapason","item__time","Date","date_start","toLocaleDateString","date_end","btns_box"],"sourceRoot":""}