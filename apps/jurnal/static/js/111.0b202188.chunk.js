"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[111],{893:(e,t,n)=>{n.d(t,{r:()=>o});var s,a=n(2791);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},l.apply(this,arguments)}function i(e,t){let{title:n,titleId:i,...o}=e;return a.createElement("svg",l({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},o),n?a.createElement("title",{id:i},n):null,s||(s=a.createElement("path",{d:"M6 12.7962L6 3.20377L11.4814 8L6 12.7962ZM6.6585 13.5488L12.1399 8.75258C12.5952 8.35417 12.5952 7.64584 12.1399 7.24743L6.6585 2.45119C6.01192 1.88543 5 2.34461 5 3.20377L5 12.7962C5 13.6554 6.01192 14.1146 6.6585 13.5488Z",fill:"black"})))}const o=a.forwardRef(i);n.p},6459:(e,t,n)=>{n.d(t,{Z:()=>r});const s={date_box:"style_date_box__ki9g3",date_info:"style_date_info__FNfsQ",box:"style_box__JjG-z",input:"style_input__pRAGr",box__info:"style_box__info__gQvkY",icon:"style_icon__ZvAC-",info:"style_info__xBfct",btns_date:"style_btns_date__w2b1a",btn_date:"style_btn_date__0vsUj",icon_btn:"style_icon_btn__v3w7Y",icon_btn_left:"style_icon_btn_left__Xn-2S"};var a=n(5470),l=n(893),i=n(2791),o=n(184);function r(e){let{changeDate:t,date:n}=e,r=(0,i.useRef)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:s.date_box,children:[(0,o.jsx)("button",{className:s.btn_date,onClick:e=>{let s=new Date(n),a=s.getDate();s.setDate(a-1),console.log(s),console.log(r.current),r.current.value=s.toISOString().split("T")[0],t(s.toISOString().split("T")[0])},children:(0,o.jsx)(l.r,{className:[s.icon_btn,s.icon_btn_left].join(" ")})}),(0,o.jsxs)("label",{htmlFor:"date",className:s.box,children:[(0,o.jsxs)("div",{className:s.date_info,children:[(0,o.jsx)(a.r,{className:s.icon}),(0,o.jsx)("p",{className:s.info,children:new Intl.DateTimeFormat("ru",{day:"numeric",month:"long",year:"numeric"}).format(new Date(n))})]}),(0,o.jsx)("p",{className:s.info,children:new Intl.DateTimeFormat("ru",{weekday:"long"}).format(new Date(n))}),(0,o.jsx)("input",{type:"date",name:"date",id:"date",defaultValue:new Date(n).toISOString().split("T")[0],onChange:e=>{e.preventDefault(),t(e.target.value)},ref:r,className:s.input,min:"2023-09-01"})]}),(0,o.jsx)("button",{className:s.btn_date,onClick:e=>{let s=new Date(n),a=s.getDate();s.setDate(a+1),console.log(s),console.log(r.current),r.current.value=s.toISOString().split("T")[0],t(s.toISOString().split("T")[0])},children:(0,o.jsx)(l.r,{className:[s.icon_btn,s.icon_btn_right].join(" ")})})]})})}},7111:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var s=n(2791),a=n(6459),l=n(1933);const i="style_btn__nu1Ji";var o=n(3211);var r=n(5251);const c="style_grid_lessons__pQDs8",_="style_lesson_data__7gRzG",d="style_lesson_col__lUosc",u="style_col_header__BLHJ2",b="style_col_value__ZL5bh";var f=n(184);function m(e){let{data:t,loader:n}=e;return n?(0,f.jsx)(r.Z,{}):(0,f.jsx)("div",{className:c,children:(0,f.jsxs)("div",{className:_,children:[(0,f.jsxs)("div",{className:d,children:[(0,f.jsx)("p",{className:u,children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,f.jsx)("p",{className:u,children:"\u041f\u0430\u0440"})]}),null===t||void 0===t?void 0:t.list.map((e=>(0,f.jsxs)("div",{className:d,children:[(0,f.jsx)("p",{className:b,children:e.lesson}),(0,f.jsx)("p",{className:b,children:e.count_lesson})]})))]})})}const h=()=>{let[e,t]=(0,s.useState)((new Date).toISOString().split("T")[0]),[n,r]=(0,s.useState)((new Date).toISOString().split("T")[0]);function c(e,t){let n={date_begin:e,date_end:t};_.mutateAsync(n)}(0,s.useEffect)((()=>c(e,n)),[]);let _=(0,l.useMutation)({mutationFn:e=>(async e=>{let{date_begin:t,date_end:n}=e,s={date_begin:t,date_end:n},a=await fetch("".concat(o.t,"/statistics/lessons/between"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});return a.ok?a.json():{status:"error"}})(e)});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a.Z,{changeDate:t,date:e}),(0,f.jsx)(a.Z,{changeDate:r,date:n}),(0,f.jsx)("button",{className:i,onClick:()=>c(e,n),children:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c"}),(0,f.jsx)(m,{data:_.data,loader:_.isLoading})]})}}}]);
//# sourceMappingURL=111.0b202188.chunk.js.map