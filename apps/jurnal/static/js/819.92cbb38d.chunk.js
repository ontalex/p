"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[819],{7819:(e,s,o)=>{o.r(s),o.d(s,{default:()=>p});o(2791);var r=o(7834),l=o(7689),a=o(1933),t=o(3211);let n=async e=>{let{userID:s,login:o,password:r}=e;console.log(s,o,r);let l={userID:s,login:o,password:r};console.log(JSON.stringify(l));let a=await fetch(t.t+"/user",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")||""},body:JSON.stringify(l)});return a.ok?a.json():{status:"error"}};o(4357);var i=o(184);function p(){const{user:e,signout:s}=(0,r.a)();(0,l.s0)();let{mutate:o,isLoading:t,isError:p}=(0,a.useMutation)({mutationFn:e=>n(e)});return(0,i.jsxs)("div",{className:"profile",children:[p?(0,i.jsx)("span",{className:"profile__alert profile__error",children:"\u043e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f"}):null,t?(0,i.jsx)("span",{className:"profile__alert profile__loading",children:"... \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 ..."}):null,(0,i.jsxs)("form",{className:"profile__form",onSubmit:s=>{s.preventDefault(),o({userID:e.userID,login:s.target.login.value,password:s.target.password.value})},children:[(0,i.jsx)("input",{className:"profile__input profile__input--login",placeholder:"\u041d\u043e\u0432\u044b\u0439 \u043b\u043e\u0433\u0438\u043d",defaultValue:e.login,type:"text",name:"login",id:"profile_login",autoComplete:"username",autoFocus:!0}),(0,i.jsx)("input",{className:"profile__input profile__input--password",placeholder:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",name:"password",id:"profile_password",autoComplete:"new-password"}),(0,i.jsx)("button",{className:"profile__change",children:(0,i.jsx)("span",{children:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c"})})]})]})}}}]);
//# sourceMappingURL=819.92cbb38d.chunk.js.map